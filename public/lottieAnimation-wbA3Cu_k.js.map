{"version":3,"file":"lottieAnimation-wbA3Cu_k.js","sources":["../src/components/sidebarLeft/tabs/passcodeLock/lottieAnimation.tsx"],"sourcesContent":["import {Component, createRenderEffect, mergeProps, onCleanup} from 'solid-js';\n\nimport type {LottieAssetName} from '../../../../lib/rlottie/lottieLoader';\nimport type RLottiePlayer from '../../../../lib/rlottie/rlottiePlayer';\nimport {useHotReloadGuard} from '../../../../lib/solidjs/hotReloadGuard';\n\nimport {usePromiseCollector} from './promiseCollector';\n\nimport styles from './common.module.scss';\n\nconst LottieAnimation: Component<{\n  class?: string;\n  name: LottieAssetName;\n  size?: number;\n}> = (inProps) => {\n  const props = mergeProps({size: 100}, inProps);\n\n  const {lottieLoader} = useHotReloadGuard();\n  const promiseCollector = usePromiseCollector();\n\n  let animationPromise: Promise<RLottiePlayer>;\n\n  const div = (\n    <div\n      class={styles.LottieAnimation}\n      classList={{\n        [props.class]: !!props.class\n      }}\n      style={{\n        '--size': props.size + 'px'\n      }}\n      onClick={() => {\n        animationPromise?.then((animation) => {\n          animation.playOrRestart();\n        });\n      }}\n    />\n  ) as HTMLDivElement;\n\n  createRenderEffect(() => {\n    animationPromise = lottieLoader.loadAnimationAsAsset(\n      {\n        container: div,\n        loop: false,\n        autoplay: true,\n        width: props.size,\n        height: props.size\n      },\n      props.name\n    );\n\n    onCleanup(() => {\n      animationPromise?.then((animation) => {\n        animation.remove();\n      });\n    });\n  });\n\n  promiseCollector.collect(animationPromise);\n\n  return div;\n}\n\nexport default LottieAnimation;\n"],"names":["LottieAnimation","inProps","props","mergeProps","size","lottieLoader","useHotReloadGuard","promiseCollector","usePromiseCollector","animationPromise","div","_el$","_tmpl$","$$click","then","animation","playOrRestart","_$effect","_p$","_v$","styles","_v$2","class","_v$3","_$className","_$classList","style","setProperty","removeProperty","undefined","createRenderEffect","loadAnimationAsAsset","container","loop","autoplay","width","height","name","onCleanup","remove","collect","_$delegateEvents"],"mappings":"sQAUMA,EAIAC,GAAY,CAChB,MAAMC,EAAQC,EAAW,CAACC,KAAM,GAAI,EAAEH,CAAO,EAEvC,CAACI,aAAAA,CAAa,EAAGC,EAAiB,EAClCC,EAAmBC,IAEzB,IAAIC,EAEJ,MAAMC,GAAG,IAAA,CAAA,MAAAC,EAAAC,IAAAD,OAAAA,EAAAE,QASI,IAAM,CACbJ,GAAkBK,KAAMC,GAAc,CACpCA,EAAUC,cAAa,CACzB,CAAC,GACFC,EAAAC,GAAA,CAAA,MAAAC,EAXMC,EAAOpB,gBAAeqB,EAClB,CACT,CAACnB,EAAMoB,KAAK,EAAG,CAAC,CAACpB,EAAMoB,KACxB,EAAAC,EAEWrB,EAAME,KAAO,KAAIe,OAAAA,IAAAD,EAAAC,KAAAK,EAAAb,EAAAO,EAAAC,IAAAA,CAAA,EAAAD,EAAAG,KAAAI,EAAAd,EAAAU,EAAAH,EAAAG,IAAA,EAAAE,IAAAL,EAAAK,QAAAL,EAAAK,KAAAA,IAAA,KAAAZ,EAAAe,MAAAC,YAAAJ,SAAAA,CAAA,EAAAZ,EAAAe,MAAAE,eAAA,QAAA,GAAAV,CAAA,EAAA,CAAAC,IAAAU,OAAAR,KAAAQ,OAAAN,KAAAM,MAAA,CAAA,EAAAlB,MAUjCmB,OAAAA,EAAmB,IAAM,CACvBrB,EAAmBJ,EAAa0B,qBAC9B,CACEC,UAAWtB,EACXuB,KAAM,GACNC,SAAU,GACVC,MAAOjC,EAAME,KACbgC,OAAQlC,EAAME,IAChB,EACAF,EAAMmC,IACR,EAEAC,EAAU,IAAM,CACd7B,GAAkBK,KAAMC,GAAc,CACpCA,EAAUwB,OAAM,CAClB,CAAC,CACH,CAAC,CACH,CAAC,EAEDhC,EAAiBiC,QAAQ/B,CAAgB,EAElCC,CACT,EAE+B+B,EAAA,CAAA,OAAA,CAAA"}